"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),TranscalPayload=/*#__PURE__*/function(){function a(b){(0,_classCallCheck2.default)(this,a),this.func=b;for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];this.args=d}/**
     * Get memo
     * @return {string}
     */return(0,_createClass2.default)(a,[{key:"memo",value:function a(){return"@[".concat(this.func,":").concat(this.args.join(","),"]")}/**
     * Parse memo
     */},{key:"parseMemo",value:function h(a){var b=a[0];if(4>a.length)throw new Error("parse transcal error: the memo is too short.");if("["!==a[1]||"]"===a[2])throw new Error("parse transcal error: formation error.");if("@"!==b&&"#"!==b)throw new Error("parse transcal error: type mark must be @ or #.");var c=a.indexOf(":"),d=a.indexOf("]");if(0>d)throw new Error("parse transcal error: cannot find end mark ']'.");if(0>c)return this.func=a.substr(2,d-2),this.args=[],this;this.func=a.substr(2,c-2);for(var e=c+1,f=e,g=[];;){if(e=a.indexOf(",",e),e>=d||0>e){g.push(a.substr(f,d-f));break}g.push(a.substr(f,e-f)),f=++e}return this.args=g,this}}],[{key:"parse",value:function c(b){return new a("").parseMemo(b)}}]),a}();exports.default=TranscalPayload;