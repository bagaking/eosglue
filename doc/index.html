<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Asset.html">Asset</a><ul class='methods'><li data-type='method'><a href="Asset.html#.parse">parse</a></li><li data-type='method'><a href="Asset.html#toString">toString</a></li></ul></li><li><a href="ChainHelper.html">ChainHelper</a><ul class='methods'><li data-type='method'><a href="ChainHelper.html#abiJsonToBin">abiJsonToBin</a></li><li data-type='method'><a href="ChainHelper.html#call">call</a></li><li data-type='method'><a href="ChainHelper.html#checkTable">checkTable</a></li><li data-type='method'><a href="ChainHelper.html#checkTableItem">checkTableItem</a></li><li data-type='method'><a href="ChainHelper.html#checkTableRange">checkTableRange</a></li><li data-type='method'><a href="ChainHelper.html#getAbi">getAbi</a></li><li data-type='method'><a href="ChainHelper.html#getAccountInfo">getAccountInfo</a></li><li data-type='method'><a href="ChainHelper.html#getActionCount">getActionCount</a></li><li data-type='method'><a href="ChainHelper.html#getActionMaxSeq">getActionMaxSeq</a></li><li data-type='method'><a href="ChainHelper.html#getActions">getActions</a></li><li data-type='method'><a href="ChainHelper.html#getBalance">getBalance</a></li><li data-type='method'><a href="ChainHelper.html#getBalances">getBalances</a></li><li data-type='method'><a href="ChainHelper.html#getBlock">getBlock</a></li><li data-type='method'><a href="ChainHelper.html#getContract">getContract</a></li><li data-type='method'><a href="ChainHelper.html#getInfo">getInfo</a></li><li data-type='method'><a href="ChainHelper.html#getRecentActions">getRecentActions</a></li><li data-type='method'><a href="ChainHelper.html#getTable">getTable</a></li><li data-type='method'><a href="ChainHelper.html#getTableAbi">getTableAbi</a></li><li data-type='method'><a href="ChainHelper.html#recoverSign">recoverSign</a></li><li data-type='method'><a href="ChainHelper.html#transfer">transfer</a></li><li data-type='method'><a href="ChainHelper.html#updateAuth">updateAuth</a></li><li data-type='method'><a href="ChainHelper.html#waitTx">waitTx</a></li></ul></li><li><a href="ChainHelper_getPubKey.html">getPubKey</a></li><li><a href="DB.html">DB</a><ul class='methods'><li data-type='method'><a href="DB.html#get">get</a></li><li data-type='method'><a href="DB.html#set">set</a></li></ul></li><li><a href="EOSProvider.html">EOSProvider</a><ul class='methods'><li data-type='method'><a href="EOSProvider.html#getAuth">getAuth</a></li><li data-type='method'><a href="EOSProvider.html#getIdentity">getIdentity</a></li></ul></li><li><a href="EventHandler.html">EventHandler</a><ul class='methods'><li data-type='method'><a href="EventHandler.html#emitEvent">emitEvent</a></li><li data-type='method'><a href="EventHandler.html#enableEvents">enableEvents</a></li><li data-type='method'><a href="EventHandler.html#setEvent">setEvent</a></li></ul></li><li><a href="KhHelper.html">KhHelper</a><ul class='methods'><li data-type='method'><a href="KhHelper.html#assembleTranscalPayload">assembleTranscalPayload</a></li><li data-type='method'><a href="KhHelper.html#checkResInfo">checkResInfo</a></li><li data-type='method'><a href="KhHelper.html#checkResOf">checkResOf</a></li><li data-type='method'><a href="KhHelper.html#parseTranscalPayload">parseTranscalPayload</a></li><li data-type='method'><a href="KhHelper.html#res">res</a></li><li data-type='method'><a href="KhHelper.html#transcal">transcal</a></li><li data-type='method'><a href="KhHelper.html#transend">transend</a></li></ul></li><li><a href="Player.html">Player</a><ul class='methods'><li data-type='method'><a href="Player.html#call">call</a></li><li data-type='method'><a href="Player.html#checkTable">checkTable</a></li><li data-type='method'><a href="Player.html#checkTableItem">checkTableItem</a></li><li data-type='method'><a href="Player.html#checkTableRange">checkTableRange</a></li><li data-type='method'><a href="Player.html#getAccountInfo">getAccountInfo</a></li><li data-type='method'><a href="Player.html#getBalance">getBalance</a></li><li data-type='method'><a href="Player.html#getBalanceAsset">getBalanceAsset</a></li><li data-type='method'><a href="Player.html#getBalances">getBalances</a></li><li data-type='method'><a href="Player.html#newAccount">newAccount</a></li><li data-type='method'><a href="Player.html#transcal">transcal</a></li><li data-type='method'><a href="Player.html#transend">transend</a></li><li data-type='method'><a href="Player.html#transfer">transfer</a></li><li data-type='method'><a href="Player.html#transget">transget</a></li><li data-type='method'><a href="Player.html#waitTx">waitTx</a></li></ul></li><li><a href="ScatterPlayer.html">ScatterPlayer</a><ul class='methods'><li data-type='method'><a href="ScatterPlayer.html#getIdentity">getIdentity</a></li><li data-type='method'><a href="ScatterPlayer.html#getScatterAsync">getScatterAsync</a></li><li data-type='method'><a href="ScatterPlayer.html#login">login</a></li><li data-type='method'><a href="ScatterPlayer.html#logout">logout</a></li><li data-type='method'><a href="ScatterPlayer.html#setNetConf">setNetConf</a></li><li data-type='method'><a href="ScatterPlayer.html#switchNetwork">switchNetwork</a></li></ul></li><li><a href="ScatterPlayer_Sign.html">Sign</a></li><li><a href="window.env.html">env</a></li></ul><h3>Interfaces</h3><ul><li><a href="AccountInfo.html">AccountInfo</a></li><li><a href="eosAPI.html">eosAPI</a></li><li><a href="Identity.html">Identity</a></li><li><a href="Scatter.html">Scatter</a></li></ul><h3>Global</h3><ul><li><a href="global.html#EVENT_NAMES">EVENT_NAMES</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>eosplayer</h1><p>Eosplayer is a bonding layer of eosjs, which is based on eosjs and provides better usability for the application layer. It can be used on both the node.js server and in a browser or Dapp wallet that already has Scatter installed.</p>
<p>frontd releases : <a href="https://github.com/bagaking/eosplayer/releases">https://github.com/bagaking/eosplayer/releases</a></p>
<p>LICENSE : <a href="https://github.com/bagaking/eosplayer/blob/master/LICENSE">Apache 2.0</a></p>
<h2>build (for broswer)</h2><p><code>npm run build</code> or <code>yarn run build</code></p>
<h2>play</h2><ol>
<li>clone the repo  </li>
<li>cd into the folder  </li>
<li>install hserve : <code>npm i -g hserve</code></li>
<li>serve the play folder : <code>hserve play</code></li>
<li>open the test site in your chrome : <code>http://localhost:3000</code> by default </li>
<li>test it in your chrome console</li>
</ol>
<h2>api documents :</h2><p><a href="https://doc.eosplayer.pro">http://doc.eosplayer.pro</a></p>
<hr>
<blockquote>
<p>you can using <code>help</code> commond to show api documents on chrome console</p>
</blockquote>
<h2>log</h2><p>there are 4 levels of log  </p>
<ul>
<li>verbose</li>
<li>info</li>
<li>warning</li>
<li>error</li>
</ul>
<p>in the initial situation, the level <code>verbose</code> is <strong>closed</strong>, and <code>info|warning|error</code> are <strong>opened</strong>.</p>
<blockquote>
<p>if you would like to <strong>disable all level</strong>, set the level filter to <code>'-'</code>.  </p>
<p>when enable called, origin setting will be override <strong>(not append)</strong>.</p>
</blockquote>
<h3>Enable/Disable Log Level in Browser</h3><ul>
<li>open specific level of log : <code>localStorage.debug = 'warning:*,info:*'</code></li>
<li>open all : <code>localStorage.debug = '*'</code></li>
</ul>
<p>then, refresh the broswer</p>
<h3>Enable/Disable Log Level in Prompt</h3><h4>Unix</h4><ul>
<li><code>DEBUG=error:* node test.js</code></li>
</ul>
<h4>CMD</h4><ul>
<li><code>set DEBUG=error:* &amp; node app.js</code></li>
</ul>
<h4>PowerShell</h4><ul>
<li><code>$env:DEBUG = &quot;error:*&quot;</code></li>
</ul>
<h3>Enable/Disable Log Level in program dynamically</h3><pre class="prettyprint source lang-js"><code>const debug = require('debug');
debug.enable('error:*,warning:*,info:*');</code></pre><blockquote>
<p>(temporary in beta.11) these code should be placed after the require operation of eosplayer.</p>
</blockquote>
<h2>Usage of eosplayer (for browser)</h2><h3>Log</h3><h3>Events</h3><p><code>ERR_TRANSCAL_FAILED</code>
<code>ERR_TRANSFER_FAILED</code>
<code>ERR_TRANSEND_FAILED</code></p>
<h3>APIs</h3><pre class="prettyprint source lang-js"><code>{String} get help // get help info of usage
{String} get version // get the version info
{Chain} get chain // get the chain

{Void} eosplayer.event.setEvent(event, fnCallback, context) //listen to a event

{Eos} get eosplayer.eosClient // get eos instance
{Identity} async eosplayer.getIdentity() // get identity

{AccountInfo} async eosplayer.getAccountInfo(account_name = identity.name) 
    // get account info for any user

{String} async eosplayer.getBalance(account_name = undefined, code = &quot;eosio.token&quot;, symbolName = undefined)  
    // get balance string of a account. ex. &quot;1.0000 EOS&quot;, null means that the account dosen't have any token,

{String} async eosplayer.getBalances(account_name = undefined, code = &quot;eosio.token&quot;)  
    // get balances array of a account. ex. [&quot;1.0000 CT&quot;]

{String} async eosplayer.getBalanceAsset(account_name = undefined, code = &quot;eosio.token&quot;) 
    // get balance structure of a account. ex. {val:1, sym:&quot;EOS&quot;, decimal:4}

{Tx} async eosplayer.transfer(target, quantity, memo = &quot;&quot;)
    // transfer tokens to target

{Tx} async eosplayer.transcal(code, quantity, func, ...args) 
    // send a action of transcal to contract

{Tx} async eosplayer.transget(code, symbol, func, ...args) 
    // send a action of trancal (quantity value = 0.0001) to contract

{Contract} async eosplayer.contract(code)
    // get contract object

{Tx} async eosplayer.call(code, func, jsonData)
    // send a action to contract</code></pre><h3>Chain API</h3><pre class="prettyprint source lang-js"><code>{Object} async getInfo() // get info of the chain connected
{Object} async getBlock(blockNumOrId) // get specific block of the chain

{Contract} async getContract(code) // get contract
{Object} async getAbi(code) // get abi of contract
{Object} async getTableAbi(code, tableName) // get table abi of contract
{Object} async abiJsonToBin(code, action, args) 

{Object} async getAccountInfo(account_name) // get account info of any user
{string} async getPubKey(account_name, authority = &quot;active&quot;) // get public key of an account

{string} async recoverSign(signature, message) // recover sign and to the public key

{Number} async getActionCount(account_name) // get a account's action count
{Number} async getActionMaxSeq(account_name) // get a account's max action seq
{Array} async getRecentActions(account_name) // get recent actions
{Array} async getActions(account_name, startPos = 0, offset = 0) // get all actions of an account

{String} async getBalance(account_name, code = &quot;eosio.token&quot;, symbolName = undefined) // get balance of specific account
{Array.&lt;String>} async getBalances(account_name, code = &quot;eosio.token&quot;) // get all balance of specific account
{Tx} async transfer(account, target, quantity, memo = &quot;&quot;, cbError) // the format of account should be {name, authority}

{Tx} async waitTx(txID, maxRound = 12, timeSpanMS = 1009) // check a transaction info, retry once per sec until success

{Tx} async call(code, func, jsonData, ...authorization) // send action to a contract

{Array} async getTable(code, tableName, scope, lower, upper, ...hint) // get all items in a table
{Array} async checkTable(code, tableName, scope, limit = 10, lower_bound = 0, upper_bound = -1, index_position = 1) // check a table
{Array} async checkTableRange(code, tableName, scope, from, length = 1, index_position = 1) // check range in table
{Object} async checkTableItem(code, tableName, scope, key = 0) // check a item in a table

{Object} async updateAuth(account, permission, parent, threshold, keys, accounts, waits) // update auth</code></pre><h2>Usage of eosplayer (for broswer)</h2><h3>Events</h3><pre class="prettyprint source lang-js"><code>ERR_GET_SCATTER_FAILED  
ERR_GET_IDENTITY_FAILED
ERR_LOGOUT_FAILED</code></pre><h3>APIs</h3><pre class="prettyprint source lang-js"><code>{void} eosplayer.switchNetwork(val) // switch network
{void} eosplayer.setNetConf(network_name, conf) // add a network config at runtime    

get {Scatter} eosplayer.scatter // get scatter instance
get {Scatter} async getScatterAsync(maxTry = 100) // get scatter instance

get {string} eosplayer.netName // get current network name
get {string} eosplayer.netConf // get current network config

async {Identity} eosplayer.login() // let user allow you using identity
async {void} eosplayer.logout() // return back the identity

async Sign(message) // sign a message with current identity</code></pre><h2>Imported libs</h2><pre class="prettyprint source lang-js"><code>
window.eosjs = Eos; /** the eosjs lib @see {@url https://www.npmjs.com/package/eosjs} */
window.eosjs_ecc = Ecc; /** the eosjs-ecc lib @see {@url https://www.npmjs.com/package/eosjs-ecc} */
window.BigNumber = BigNumber; /** big number library @see {@url https://www.npmjs.com/package/bignumber.js} */
window.env = env; /** {isPc} */
window.idb = idb; /** idb lib for browser storage @see {@url https://www.npmjs.com/package/idb } */
window.eosplayer = new ScatterPlayer(networks);
</code></pre><h2>Usage of eosplayer (for node.js)</h2><ol>
<li>install eosplayer<br> <code>npm i eosplayer --save</code> or <code>yarn add eosplayer</code></li>
<li>import eosplayer<br> <code>import * from 'eosplayer'</code> or <code>const Player = require('eosplayer')</code></li>
<li><p>extend Player to create the glue layer, implement methods : eosClient and getIdentity
 see <a href="https://github.com/bagaking/eosplayer/blob/master/scatterBinder/scatterPlayer.js">scatterPlayer</a></p>
<pre class="prettyprint source lang-js"><code> const Player = require('eosplayer')
 const Eos = require('eosjs')
 class MyPlayer extends Player {
         get eosClient() {
             if (!this._eosClient) {
                 this._eosClient = new Eos(myAwsomeConf);
             }
             return this._eosClient;
         }

         async getIdentity() {
             return { name: &quot;myawsomename&quot;, authority: &quot;active&quot; }
         }
 }</code></pre></li>
<li>have fun</li>
</ol>
<hr>
<h2>Updates</h2><h3>0.3.0</h3><h4>add</h4><ul>
<li>Class: helper/kh.js</li>
<li>Class: utils/log.js</li>
<li>Event: ERR_TRANSFER_FAILED</li>
<li>Event: ERR_TRANSEND_FAILED</li>
<li>Event: ERR_LOGOUT_FAILED</li>
<li>Method: get eosplayer.kh</li>
<li>Method: chain.getTable</li>
<li>Method: chain.getActionCount</li>
<li>Method: chain.getRecentActions</li>
<li>Method: chain.getBalances</li>
<li>Method: chain.getActions</li>
<li>Method: chain.transfer</li>
<li>Method: player.getBalances</li>
<li>Method: player.getAuth</li>
</ul>
<h4>modify</h4><ul>
<li>Method: the checkTableRange methods deals with 'more' now</li>
<li>Method: chain.getBalance add param symbolName</li>
</ul>
<h4>Export</h4><ul>
<li>Scatter: bigNumber</li>
</ul>
<h4>Deprecated</h4><ul>
<li>eosplayer.waitTx (eosplayer.chain.waitTx instead)</li>
<li>eosplayer.checkTable (eosplayer.chain.checkTable instead)</li>
<li>eosplayer.checkTableRange (eosplayer.chain.checkTableRange instead)</li>
<li>eosplayer.checkTableItem (eosplayer.chain.checkTableItem instead)</li>
</ul>
<h3>0.2.0 (no release)</h3><h4>add</h4><ul>
<li>Class: chain.js</li>
<li>Method: get eosplayer.chain</li>
</ul>
<h3>0.1.2</h3><p>in this version, scatter are split from the Player.</p>
<h4>add</h4><ul>
<li>Module: scatterBinder</li>
<li>Class: src/eosProvider</li>
<li>Class: scatterBinder/scatterPlayer</li>
<li>Method: void eventHandler.enableEvents(eventKeys)</li>
</ul>
<h4>remove</h4><ul>
<li>Player.EventNames</li>
</ul>
<h4>modify</h4><ul>
<li>Rename events :<ul>
<li>ERR_TRANSCAL_FAILED</li>
<li>ERR_GET_SCATTER_FAILED</li>
<li>ERR_GET_IDENTITY_FAILED</li>
</ul>
</li>
</ul>
<h3>0.1.1</h3><h4>add</h4><ul>
<li>async eosplayer.transfer(target, quantity, memo)</li>
<li>async eosplayer.contract(code)</li>
</ul>
<hr>
<h2>Contact</h2><p>email : <a href="kinghand@tonarts.org">kinghand@tonarts.org</a><br>issue : <a href="https://github.com/bagaking/eosplayer/issues">https://github.com/bagaking/eosplayer/issues</a></p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Dec 29 2018 14:10:48 GMT+0800 (China Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>


</body>
</html>